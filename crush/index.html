<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Crush Messages Generator | Break The Ice With Style - Namerly</title>
  <meta name="description"
    content="Generate unique and fun crush messages to break the ice! Perfect pickup lines and icebreakers to start a conversation with your crush." />

  <!-- Google AdSense -->
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-8550109275788235"
    crossorigin="anonymous"></script>

  <link rel="stylesheet" href="../assets/css/style.css" />
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Roboto:wght@300;400;500;600;700&display=swap');

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
      background: linear-gradient(135deg, #ec4899 0%, #be185d 100%);
      min-height: 100vh;
      overflow-x: hidden;
    }

    /* Animated background particles */
    body::before {
      content: '';
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><circle cx="20" cy="20" r="2" fill="rgba(255,255,255,0.1)"><animate attributeName="opacity" values="0;1;0" dur="3s" repeatCount="indefinite"/></circle><circle cx="80" cy="40" r="1.5" fill="rgba(255,255,255,0.1)"><animate attributeName="opacity" values="0;1;0" dur="4s" repeatCount="indefinite"/></circle><circle cx="40" cy="80" r="1" fill="rgba(255,255,255,0.1)"><animate attributeName="opacity" values="0;1;0" dur="5s" repeatCount="indefinite"/></circle></svg>') repeat;
      pointer-events: none;
      z-index: 1;
    }

    header {
      position: relative;
      z-index: 10;
      backdrop-filter: blur(10px);
      background: rgba(255, 255, 255, 0.1);
      border-bottom: 1px solid rgba(255, 255, 255, 0.2);
    }

    main {
      padding: 3rem 2rem;
      text-align: center;
      position: relative;
      z-index: 10;
      max-width: 800px;
      margin: 0 auto;
    }

    h2 {
      font-size: 2.5rem;
      font-weight: 700;
      color: #ffffff;
      margin-bottom: 1.5rem;
      text-shadow: 0 2px 8px rgba(0, 0, 0, 0.5);
      letter-spacing: 0.5px;
    }

    select,
    button {
      margin: 1rem;
      padding: 1rem 1.5rem;
      font-size: 1rem;
      font-weight: 500;
      border: 2px solid #e2e8f0;
      border-radius: 15px;
      background: white;
      color: #333;
      cursor: pointer;
      transition: all 0.3s ease;
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
    }

    select:hover,
    button:hover {
      border-color: #ec4899;
      transform: translateY(-2px);
      box-shadow: 0 8px 25px rgba(236, 72, 153, 0.3);
    }

    button {
      background: linear-gradient(135deg, #ec4899 0%, #be185d 100%);
      color: white;
      border: none;
      font-weight: 600;
      border-radius: 50px;
      box-shadow: 0 10px 30px rgba(236, 72, 153, 0.4);
      position: relative;
      overflow: hidden;
    }

    button::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
      transition: left 0.6s;
    }

    button:hover::before {
      left: 100%;
    }

    #output {
      margin-top: 3rem;
      font-size: 1.3rem;
      max-width: 600px;
      margin-left: auto;
      margin-right: auto;
      background: rgba(255, 255, 255, 0.95);
      backdrop-filter: blur(20px);
      border-radius: 20px;
      padding: 2.5rem;
      box-shadow: 0 20px 40px rgba(0, 0, 0, 0.15);
      border: 1px solid rgba(255, 255, 255, 0.3);
      font-family: 'Roboto', 'Inter', sans-serif;
      font-weight: 400;
      color: #333;
      line-height: 1.6;
      min-height: 120px;
      display: flex;
      align-items: center;
      justify-content: center;
      flex-direction: column;
      transition: all 0.5s ease;
      font-style: italic;
    }

    .copy-btn {
      margin-top: 1rem;
      padding: 0.8rem 1.5rem;
      font-size: 0.95rem;
      background: linear-gradient(135deg, #e11d48, #be123c);
      color: white;
      border: none;
      border-radius: 25px;
      cursor: pointer;
      transition: all 0.3s ease;
      box-shadow: 0 8px 20px rgba(225, 29, 72, 0.3);
      font-weight: 500;
    }

    .copy-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 12px 25px rgba(225, 29, 72, 0.4);
      background: linear-gradient(135deg, #be123c, #e11d48);
    }

    .share-section {
      margin-top: 2rem;
      padding: 2rem;
      background: rgba(255, 255, 255, 0.9);
      backdrop-filter: blur(15px);
      border-radius: 20px;
      border: 2px dashed rgba(236, 72, 153, 0.3);
      box-shadow: 0 15px 35px rgba(0, 0, 0, 0.1);
    }

    .share-title {
      font-weight: 600;
      margin-bottom: 1.5rem;
      color: #333;
      font-size: 1.2rem;
    }

    .main-share-btn {
      margin-left: 0.5rem;
      padding: 0.8rem 1.5rem;
      font-size: 0.95rem;
      background: linear-gradient(135deg, #e11d48, #be123c);
      color: white;
      border: none;
      border-radius: 25px;
      cursor: pointer;
      transition: all 0.3s ease;
      box-shadow: 0 8px 20px rgba(225, 29, 72, 0.3);
      font-weight: 500;
    }

    .main-share-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 12px 25px rgba(225, 29, 72, 0.4);
      background: linear-gradient(135deg, #be123c, #e11d48);
    }

    .share-buttons {
      margin-top: 1.5rem;
      display: flex;
      justify-content: center;
      gap: 15px;
      flex-wrap: wrap;
    }

    .share-btn {
      padding: 12px 20px;
      border: none;
      border-radius: 25px;
      cursor: pointer;
      font-size: 0.9rem;
      font-weight: 600;
      text-decoration: none;
      display: inline-flex;
      align-items: center;
      gap: 8px;
      transition: all 0.3s ease;
      box-shadow: 0 8px 20px rgba(0, 0, 0, 0.2);
    }

    .share-btn:hover {
      transform: translateY(-3px);
      box-shadow: 0 12px 30px rgba(0, 0, 0, 0.3);
    }

    .twitter {
      background: linear-gradient(135deg, #1da1f2, #0d8bd9);
      color: white;
    }

    .instagram {
      background: linear-gradient(45deg, #f09433 0%, #e6683c 25%, #dc2743 50%, #cc2366 75%, #bc1888 100%);
      color: white;
    }

    .tiktok {
      background: linear-gradient(135deg, #000, #333);
      color: white;
    }

    .whatsapp {
      background: linear-gradient(135deg, #25d366, #20c157);
      color: white;
    }

    .telegram {
      background: linear-gradient(135deg, #0088cc, #0066aa);
      color: white;
    }

    /* Responsive design */
    @media (max-width: 768px) {
      main {
        padding: 2rem 1rem;
      }

      h2 {
        font-size: 2rem;
        letter-spacing: 0.3px;
      }

      #output {
        padding: 2rem;
        font-size: 1.2rem;
        max-width: 500px;
      }

      .share-buttons {
        gap: 10px;
      }

      .share-btn {
        padding: 10px 16px;
        font-size: 0.85rem;
      }
    }

    /* Loading animation */
    .loading {
      animation: pulse 1.5s ease-in-out infinite;
    }

    @keyframes pulse {
      0% {
        opacity: 1;
      }

      50% {
        opacity: 0.5;
      }

      100% {
        opacity: 1;
      }
    }

    /* Animations */
    @keyframes slideInUp {
      from {
        opacity: 0;
        transform: translateY(30px);
      }

      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .emoji-float {
      animation: float 3s ease-in-out infinite;
    }

    @keyframes float {

      0%,
      100% {
        transform: translateY(0px);
      }

      50% {
        transform: translateY(-10px);
      }
    }

    /* 💖 NEW CRUSH ENHANCED STYLES */
    .crush-enhanced-section {
      background: rgba(255, 255, 255, 0.1);
      backdrop-filter: blur(15px);
      border-radius: 20px;
      padding: 2rem;
      margin: 2rem 0;
      border: 1px solid rgba(255, 255, 255, 0.2);
      box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
    }

    .message-type-selector {
      margin-bottom: 1.5rem;
    }

    .mood-selector {
      margin: 1.5rem 0;
    }

    .mood-selector label {
      display: block;
      margin-bottom: 0.8rem;
      font-weight: 600;
      color: white;
    }

    .mood-buttons {
      display: flex;
      gap: 0.5rem;
      flex-wrap: wrap;
      justify-content: center;
    }

    .mood-btn {
      background: rgba(255, 255, 255, 0.2);
      border: 2px solid rgba(255, 255, 255, 0.3);
      color: white;
      padding: 0.6rem 1.2rem;
      border-radius: 25px;
      cursor: pointer;
      transition: all 0.3s ease;
      font-weight: 500;
      font-size: 0.9rem;
    }

    .mood-btn:hover {
      background: rgba(255, 255, 255, 0.3);
      transform: translateY(-2px);
      box-shadow: 0 5px 15px rgba(255, 255, 255, 0.2);
    }

    .mood-btn.active {
      background: rgba(255, 255, 255, 0.9);
      color: #be185d;
      border-color: white;
      box-shadow: 0 5px 20px rgba(255, 255, 255, 0.3);
    }

    /* Enhanced output section */
    #output {
      background: rgba(255, 255, 255, 0.15);
      backdrop-filter: blur(20px);
      border-radius: 15px;
      padding: 1.8rem;
      margin: 2rem auto;
      border: 1px solid rgba(255, 255, 255, 0.2);
      box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
      max-width: 500px;
    }

    /* Crush tips section */
    .crush-tips {
      background: linear-gradient(135deg, rgba(255, 255, 255, 0.1), rgba(255, 255, 255, 0.05));
      backdrop-filter: blur(15px);
      border-radius: 15px;
      padding: 1.5rem;
      margin: 2rem 0;
      border: 1px solid rgba(255, 255, 255, 0.2);
    }

    .tip-icon {
      font-size: 2rem;
      margin-bottom: 0.5rem;
    }

    .tip-text {
      color: rgba(255, 255, 255, 0.9);
      font-size: 0.9rem;
      line-height: 1.5;
    }

    @media (max-width: 768px) {
      .mood-buttons {
        flex-direction: column;
        align-items: center;
      }

      .mood-btn {
        width: 100%;
        max-width: 200px;
      }

      .crush-enhanced-section {
        padding: 1.5rem;
      }
    }
  </style>
</head>

<body>
  <header>
    <h1 id="title">💘 Namerly</h1>
    <div>
      <button id="lang-toggle"
        style="margin-right: 1rem; padding: 0.4rem 0.8rem; background: #e11d48; color: white; border: none; border-radius: 4px; cursor: pointer; font-size: 0.9rem;">🌐
        ES</button>
      <a href="../index.html" style="text-decoration:none;">← Home</a>
    </div>
  </header>
  <main>
    <h2 id="subtitle">Crush Messages</h2>

    <!-- 💖 NEW: ENHANCED CRUSH MESSAGE GENERATOR -->
    <div class="crush-enhanced-section">
      <div class="message-type-selector">
        <label for="type" id="choose-type-label">Choose a type:</label>
        <select id="type">
          <option value="nervous">😳 Nervous</option>
          <option value="late">⏰ Being Late</option>
          <option value="cancel">❌ Canceling Plans</option>
          <option value="text">💬 Not Texting Back</option>
          <option value="creative">🎨 Creative</option>
          <option value="random">🎲 Random</option>
          <!-- NEW OPTIONS -->
          <option value="first_message">✨ First Message</option>
          <option value="good_morning">🌅 Good Morning</option>
          <option value="good_night">🌙 Good Night</option>
          <option value="flirty">😏 Flirty</option>
          <option value="sweet">🍯 Sweet</option>
          <option value="funny">😂 Funny</option>
          <option value="deep">💭 Deep Conversation</option>
        </select>
      </div>

      <!-- NEW: Mood Selector -->
      <div class="mood-selector">
        <label for="mood" id="mood-label">💭 What's your mood?</label>
        <div class="mood-buttons">
          <button class="mood-btn active" data-mood="casual">😎 Casual</button>
          <button class="mood-btn" data-mood="romantic">💕 Romantic</button>
          <button class="mood-btn" data-mood="playful">🎭 Playful</button>
          <button class="mood-btn" data-mood="confident">🔥 Confident</button>
        </div>
      </div>
    </div>
    <div class="control-section">
      <button onclick="generateEnhancedMessage()" class="generate-btn"><span id="btn-text">Generate</span></button>
    </div>

    <!-- NEW: Crush Tips Section -->
    <div class="crush-tips" id="crush-tips">
      <div class="tip-icon">💡</div>
      <div class="tip-text" id="tip-text">
        💖 Tip: Be yourself! Authenticity is more attractive than trying to be someone you're not.
      </div>
    </div>

    <div id="output">🤷</div>

    <!-- Ad after message generation -->
    <div class="ad-container ad-afterResults" style="display: none;" id="results-ad">
      <ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-8550109275788235" data-ad-slot="8550109278"
        data-ad-format="auto" data-full-width-responsive="true"></ins>
    </div>

    <div id="share-section" style="display: none;">
      <div class="share-section">
        <div class="share-title" id="share-title">📱 Share on Social Media</div>
        <div class="share-buttons">
          <button class="share-btn twitter" onclick="shareOnTwitter()">🐦 Twitter</button>
          <button class="share-btn instagram" onclick="shareOnInstagram()">📸 Instagram</button>
          <button class="share-btn tiktok" onclick="shareOnTikTok()">🎵 TikTok</button>
          <button class="share-btn whatsapp" onclick="shareOnWhatsApp()">💬 WhatsApp</button>
          <button class="share-btn telegram" onclick="shareOnTelegram()">✈️ Telegram</button>
        </div>
      </div>
    </div>
  </main>

  <!-- Legal Footer -->
  <footer class="legal-footer"
    style="padding: 2rem; text-align: center; color: rgba(255,255,255,0.8); position: relative; z-index: 10;">
    <div class="footer-content">
      <div class="footer-links" style="margin-bottom: 1rem;">
        <a href="../privacy-policy.html" style="color: white; text-decoration: none; margin: 0 0.5rem;">Privacy
          Policy</a>
        <span class="separator">|</span>
        <a href="../terms-of-service.html" style="color: white; text-decoration: none; margin: 0 0.5rem;">Terms of
          Service</a>
        <span class="separator">|</span>
        <a href="../cookie-policy.html" style="color: white; text-decoration: none; margin: 0 0.5rem;">Cookie Policy</a>
        <span class="separator">|</span>
        <a href="../disclaimer.html" style="color: white; text-decoration: none; margin: 0 0.5rem;">Disclaimer</a>
      </div>
      <div class="footer-info">
        <p>&copy; 2025 Namerly. All rights reserved.</p>
        <p>🔒 Your privacy is protected. We don't store personal data.</p>
      </div>
    </div>
  </footer>
  <!-- ...existing code... -->
  <script>
    // ...existing code...

    // --- Google Analytics loader (only if consent given) ---
    function loadAnalytics() {
      if (window.gtagLoaded) return;
      window.gtagLoaded = true;
      var script = document.createElement('script');
      script.async = true;
      script.src = 'https://www.googletagmanager.com/gtag/js?id=G-ZCBGMRHJ21';
      document.head.appendChild(script);
      script.onload = function () {
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        window.gtag = gtag;
        gtag('js', new Date());
        gtag('config', 'G-ZCBGMRHJ21', {
          cookie_domain: 'namerlygenerator.netlify.app',
          anonymize_ip: true
        });
      };
    }
    let currentLang = localStorage.getItem('namerly-crush-lang') || (navigator.language.startsWith("es") ? "es" : "en");
    let lastGeneratedMessage = ""; // Variable para almacenar el último mensaje generado

    const translations = {
      en: {
        subtitle: "Crush Messages",
        chooseType: "Choose a type:",
        moodLabel: "💭 What's your mood?",
        generate: "Generate",
        copy: "Copy",
        copied: "Copied!",
        share: "Share",
        shareTitle: "📱 Share on Social Media",
        tip: "💖 Tip: Be yourself! Authenticity is more attractive than trying to be someone you're not.",
        types: {
          nervous: "😳 Sweet",
          noconfidence: "😳 Shy",
          late: "⏰ Cute Apology",
          cancel: "❌ Miss You",
          text: "💬 Not Texting Back",
          creative: "🎨 Creative",
          random: "🎲 Random",
          first_message: "👋 First Message",
          good_morning: "🌅 Good Morning",
          good_night: "🌙 Good Night",
          flirty: "😏 Flirty",
          sweet: "💖 Sweet",
          funny: "😄 Funny",
          deep: "🤔 Deep"
        }
      },
      es: {
        subtitle: "Mensajes para tu Crush",
        chooseType: "Elige un tipo:",
        moodLabel: "💭 ¿Cuál es tu estado de ánimo?",
        generate: "Generar",
        copy: "Copiar",
        copied: "¡Copiado!",
        share: "Compartir",
        shareTitle: "📱 Compartir en Redes Sociales",
        tip: "💖 Consejo: ¡Sé tú mismo! La autenticidad es más atractiva que tratar de ser alguien que no eres.",
        types: {
          nervous: "🤗 Dulce",
          noconfidence: "😳 Sin Confianza",
          late: "⏰ Disculpa Linda",
          cancel: "❌ Te Extraño",
          text: "💬 No Respondí",
          creative: "🎨 Creativo",
          random: "🎲 Aleatorio",
          first_message: "👋 Primer Mensaje",
          good_morning: "🌅 Buenos Días",
          good_night: "🌙 Buenas Noches",
          flirty: "😏 Coqueto",
          sweet: "💖 Tierno",
          funny: "😄 Divertido",
          deep: "🤔 Profundo"
        }
      }
    };
    function updateUI() {
      const t = translations[currentLang];
      document.getElementById("subtitle").textContent = t.subtitle;
      document.getElementById("choose-type-label").textContent = t.chooseType;
      document.getElementById("mood-label").textContent = t.moodLabel;
      document.querySelector("button[onclick='generateEnhancedMessage()']").textContent = t.generate;
      // Update dropdown options
      const typeSelect = document.getElementById("type");
      typeSelect.innerHTML = '';
      Object.keys(t.types).forEach(key => {
        const option = document.createElement('option');
        option.value = key;
        option.textContent = t.types[key];
        typeSelect.appendChild(option);
      });
      document.getElementById("share-title").textContent = t.shareTitle;
      document.getElementById("tip-text").textContent = t.tip;
      const nextLang = currentLang === "en" ? "ES" : "EN";
      document.getElementById("lang-toggle").innerHTML = `🌐 ${nextLang}`;
    }
    const messages = {
      en: {
        nervous: [
          "Every time I see you, my heart skips a beat.",
          "You have the most beautiful smile I've ever seen.",
          "I get butterflies just thinking about you.",
          "You light up my day just by being you.",
          "I can't help but smile when I see your name pop up.",
          "You make my ordinary days feel special.",
          "If happiness had a face, it would look like you.",
          "I wish you could see yourself through my eyes."
          , "You always seem to make the day a little brighter."
          , "Funny how I always end up smiling when you’re around."
          , "Some people just have a good vibe, you know?"
          , "It’s nice how things feel lighter when you’re here."
          , "If I could bottle the feeling I get when I see you, I'd never run out of happiness."
          , "You make my heart do a happy dance every time you walk by."
          , "You’re the reason I check my phone with a smile."
        ],
        noconfidence: [
          "I wish I had the confidence to talk to you.",
          "Sometimes I feel like I'm not good enough for you.",
          "I get so nervous around you, it's embarrassing.",
          "I admire you from afar, too shy to say hi.",
          "I wish I could express how I feel without stumbling over my words."
        ],
        late: [
          "Sorry I was late, I was daydreaming about you!",
          "I wanted to look extra nice for you.",
          "I couldn't stop thinking about our last conversation.",
          "I was picking the perfect song to listen to before seeing you.",
          "I was practicing how to say hi to you!",
          "I lost track of time thinking about your smile.",
          "I wanted to make sure I brought my best self for you."
          , "I got lost in thoughts of you and forgot the time."
          , "I was rehearsing the perfect hello for you."
          , "I guess time flies when you’re looking forward to something."
          , "Maybe I just wanted a few extra minutes to enjoy the anticipation."
        ],
        cancel: [
          "I had to cancel, but I hope we can see each other soon!",
          "Plans changed, but you were on my mind the whole time.",
          "Can we reschedule? I really want to spend time with you!",
          "Sorry, something came up, but I owe you a big smile!",
          "I missed you even more because I couldn't make it.",
          "Not seeing you today just made me realize how much I like you.",
          "I hope your day is as sweet as you are, even if we couldn't meet."
          , "Missing you is my new hobby since we couldn’t meet."
          , "Raincheck? I promise to make it up to you with extra smiles."
          , "Maybe next time will be even better."
          , "Sometimes the best plans are the ones that get postponed."
        ],
        text: [
          "Sorry for not texting back, I was thinking of the perfect thing to say to you!",
          "I kept re-reading your message and smiling.",
          "I wanted to reply with something special, so I took my time.",
          "I was just imagining us together.",
          "I was waiting for the perfect moment to text you!",
          "I hope my reply makes you smile as much as yours made me.",
          "Sometimes I get lost in my thoughts about you and forget to text."
          , "I wanted my reply to be as sweet as you are."
          , "I was busy thinking of you, not ignoring you!"
          , "I’m not the fastest texter, but I do enjoy our chats."
          , "I like taking my time to answer nice messages."
        ],
        creative: [
          "If I had a flower for every time I thought of you, I'd have a garden.",
          "If kisses were stars, I'd give you the sky.",
          "You must be a magician, because whenever I look at you, everyone else disappears.",
          "If I could rearrange the alphabet, I'd put U and I together.",
          "You make ordinary moments feel extraordinary.",
          "If I could write you a song, it would be the happiest melody.",
          "If I could send you a cloud, it would be the fluffiest one just for you."
          , "If I could paint a picture of happiness, it would look just like you."
          , "If I could send you a star, I’d pick the brightest one—just like you."
          , "If I could send a little good energy your way, I’d do it every day."
          , "If I could share a sunset, I’d pick the prettiest one for you."
        ],
        random: [
          "Just wanted to remind you how amazing you are!",
          "You make my world a little brighter every day.",
          "I hope your day is as lovely as your smile.",
          "If you ever need a reason to smile, just think of me thinking of you.",
          "You are the best part of my day!",
          "You make even Mondays feel like Fridays.",
          "If you ever doubt yourself, remember someone out there is thinking of you (me!)."
          , "You’re the reason I look forward to every day."
          , "If you ever need a pick-me-up, just text me!"
          , "Hope your day has a little extra sparkle."
          , "Wishing you a day as good as your favorite song."
          , "Some days just feel better, don’t they?"
        ]
      },
      es: {
        nervous: [
          "Cada vez que te veo, mi corazón late más fuerte.",
          "Tienes la sonrisa más bonita que he visto.",
          "Me llenas de mariposas solo con pensarte.",
          "Iluminas mi día solo con ser tú.",
          "No puedo evitar sonreír cuando veo tu nombre.",
          "Tus ojos tienen algo que me hace olvidar el mundo.",
          "Ojalá pudieras verte como yo te veo.",
          "Si la felicidad tuviera rostro, sería el tuyo."
          , "Si pudiera guardar el sentimiento que me das al verte, nunca me faltaría alegría."
          , "Mi corazón baila de felicidad cada vez que pasas cerca."
          , "Eres la razón por la que miro el móvil sonriendo."
          , "Siempre es más fácil sonreír cuando estás cerca."
          , "Hay personas que tienen buena energía, ¿sabes?"
          , "Me gusta cómo todo parece más bonito cuando llegas."
        ],
        noconfidence: [
          "Ojalá tuviera la confianza para hablarte.",
          "A veces siento que no soy lo suficientemente bueno para ti.",
          "Me pongo tan nervioso(a) cuando estás cerca, es vergonzoso.",
          "Te admiro desde lejos, demasiado tímido(a) para saludarte.",
          "Ojalá pudiera expresar lo que siento sin tartamudear.",
          "A veces me pregunto si alguna vez tendré el valor de hablarte, pero mira, lo estoy haciendo.",
          "A veces me siento invisible a tu alrededor.",
          "A veces me gustaría poder hablarte sin sentirme tan tímido(a)."
          , "Eres la razón por la que me pongo nervioso(a) al hablar."
        ],
        late: [
          "Perdón por llegar tarde, estaba soñando contigo!",
          "Quería verme extra bien para ti.",
          "No podía dejar de pensar en nuestra última charla.",
          "Estaba eligiendo la canción perfecta antes de verte.",
          "Estaba practicando cómo saludarte!",
          "Perdí la noción del tiempo pensando en tu sonrisa.",
          "Quería asegurarme de llevar mi mejor versión para ti."
          , "Me perdí pensando en ti y olvidé la hora."
          , "Estaba ensayando el saludo perfecto para ti."
          , "El tiempo pasa rápido cuando espero algo bueno."
          , "A veces la anticipación es lo mejor del día."
        ],
        cancel: [
          "Tuve que cancelar, pero espero verte pronto!",
          "Los planes cambiaron, pero pensaba en ti todo el tiempo.",
          "¿Reagendamos? Tengo muchas ganas de pasar tiempo contigo!",
          "Perdón, surgió algo, pero te debo una gran sonrisa!",
          "Te extrañé aún más por no poder verte.",
          "No verte hoy me hizo darme cuenta de cuánto me gustas.",
          "Espero que tu día sea tan dulce como tú, aunque no pudimos vernos."
          , "Extrañarte se volvió mi nuevo pasatiempo desde que no pudimos vernos."
          , "¿Reagendamos? Prometo compensarte con sonrisas extra."
          , "Quizá la próxima vez sea aún mejor."
          , "A veces los mejores planes son los que se posponen."
        ],
        text: [
          "Perdón por no responder, quería decirte algo especial!",
          "Releí tu mensaje y me puse a sonreír.",
          "Quise responderte con algo bonito, así que me tomé mi tiempo.",
          "Solo estaba imaginando cómo sería estar juntos.",
          "Esperaba el momento perfecto para escribirte!",
          "Ojalá mi respuesta te saque una sonrisa como la tuya a mí.",
          "A veces me pierdo pensando en ti y olvido responder."
          , "Quería que mi respuesta fuera tan dulce como tú."
          , "Estaba ocupado pensando en ti, ¡no ignorándote!"
          , "No soy el más rápido escribiendo, pero disfruto nuestras charlas."
          , "Me gusta tomarme mi tiempo para responder mensajes bonitos."
        ],
        creative: [
          "Si tuviera una flor por cada vez que pienso en ti, tendría un jardín.",
          "Si los besos fueran estrellas, te daría el cielo.",
          "Debes ser mag@, porque cuando te miro, los demás desaparecen.",
          "Haces que los momentos simples sean extraordinarios.",
          "Si pudiera escribirte una canción, sería la melodía más feliz.",
          "Si pudiera enviarte una nube, sería la más esponjosa solo para ti."
          , "Si pudiera pintar la felicidad, tendría tu cara."
          , "Si pudiera enviarte una estrella, elegiría la más brillante—como tú."
          , "Si pudiera enviarte buena energía, lo haría cada día."
          , "Si pudiera compartir un atardecer, elegiría el más bonito para ti."
        ],
        random: [
          "Solo quería recordarte lo increíble que eres!",
          "Haces mi mundo un poco más brillante cada día.",
          "Espero que tu día sea tan lindo como tu sonrisa.",
          "Si alguna vez necesitas una razón para sonreír, piensa en mí pensando en ti.",
          "¡Eres la mejor parte de mi día!",
          "Haces que hasta los lunes se sientan como viernes.",
          "Si alguna vez dudas de ti, recuerda que hay alguien pensando en ti (¡yo!)."
          , "Eres la razón por la que espero cada día con ganas."
          , "Si necesitas animarte, solo mándame un mensaje!"
          , "Espero que tu día tenga un brillo extra."
          , "Te deseo un día tan bueno como tu canción favorita."
          , "Hay días que simplemente se sienten mejor, ¿no?"
          , "Es curioso cómo un hola tuyo me alegra el día."
        ]
      }
    };
    // Anti-repetition system
    const MAX_RECENT = 8;
    let recentItems = JSON.parse(localStorage.getItem('namerly-crush-recent')) || [];
    function generateMessage() {
      const type = document.getElementById("type").value;
      const messagesArray = messages[currentLang][type];
      // Filter out recently used messages
      const availableMessages = messagesArray.filter(msg => !recentItems.includes(msg));
      // If all messages were used recently, clear the recent list
      let selectedMessage;
      if (availableMessages.length === 0) {
        recentItems = [];
        selectedMessage = messagesArray[Math.floor(Math.random() * messagesArray.length)];
      } else {
        selectedMessage = availableMessages[Math.floor(Math.random() * availableMessages.length)];
      }
      // Add to recent items
      recentItems.unshift(selectedMessage);
      // Keep only the most recent items
      if (recentItems.length > MAX_RECENT) {
        recentItems = recentItems.slice(0, MAX_RECENT);
      }
      // Save to localStorage
      localStorage.setItem('namerly-crush-recent', JSON.stringify(recentItems));

      // Store the message globally for sharing
      lastGeneratedMessage = selectedMessage;

      // Display the message
      const output = document.getElementById("output");
      output.innerHTML = `
        "${selectedMessage}"
        <br><br>
        <button class="copy-btn" onclick="copyToClipboard('${selectedMessage.replace(/'/g, "\\'")}')">
          ${translations[currentLang].copy}
        </button>
        <button class="main-share-btn" onclick="toggleShareSection()">
          ${translations[currentLang].share}
        </button>
      `;
      // Show the share section
      document.getElementById("share-section").style.display = "block";

      // Show ad after message generation
      const resultsAd = document.getElementById("results-ad");
      if (resultsAd) {
        resultsAd.style.display = "block";
        // Initialize the ad
        try {
          (adsbygoogle = window.adsbygoogle || []).push({});
        } catch (e) {
          console.log('AdSense error:', e);
        }
      }
    }
    function copyToClipboard(text, buttonElement) {
      // Try modern clipboard API first
      if (navigator.clipboard && navigator.clipboard.writeText) {
        navigator.clipboard.writeText(text).then(() => {
          showCopySuccess(buttonElement || event.target);
        }).catch(() => {
          // Fallback if clipboard API fails
          fallbackCopy(text, buttonElement || event.target);
        });
      } else {
        // Fallback for older browsers
        fallbackCopy(text, buttonElement || event.target);
      }
    }

    function fallbackCopy(text, buttonElement) {
      const textArea = document.createElement('textarea');
      textArea.value = text;
      textArea.style.position = 'fixed';
      textArea.style.left = '-999999px';
      textArea.style.top = '-999999px';
      document.body.appendChild(textArea);
      textArea.focus();
      textArea.select();

      try {
        document.execCommand('copy');
        showCopySuccess(buttonElement);
      } catch (err) {
        console.error('Failed to copy text: ', err);
        alert('No se pudo copiar el mensaje. Por favor cópialo manualmente.');
      } finally {
        document.body.removeChild(textArea);
      }
    }

    function showCopySuccess(buttonElement) {
      if (buttonElement) {
        const originalText = buttonElement.textContent;
        buttonElement.textContent = translations[currentLang].copied;
        buttonElement.style.background = '#10b981';
        setTimeout(() => {
          buttonElement.textContent = originalText;
          buttonElement.style.background = '';
        }, 1500);
      }
    }
    function toggleShareSection() {
      const shareSection = document.getElementById("share-section");
      shareSection.style.display = shareSection.style.display === "none" ? "block" : "none";
    }
    function shareOnTwitter() {
      const text = `Crush message: "${lastGeneratedMessage}" 💕 #Namerly #CrushMessage #Love`;
      window.open(`https://twitter.com/intent/tweet?text=${encodeURIComponent(text)}`, '_blank');
    }
    function shareOnInstagram() {
      const textToCopy = `Crush message: "${lastGeneratedMessage}" 💕 #Namerly #CrushMessage`;
      copyToClipboard(textToCopy);
      setTimeout(() => {
        alert('¡Mensaje copiado! Ahora pégalo en Instagram.');
      }, 100);
    }
    function shareOnTikTok() {
      const textToCopy = `Crush message: "${lastGeneratedMessage}" 💕 #Namerly #CrushMessage #Love`;
      copyToClipboard(textToCopy);
      setTimeout(() => {
        alert('¡Mensaje copiado! Ahora pégalo en TikTok.');
      }, 100);
    }
    function shareOnWhatsApp() {
      const text = `Crush message: "${lastGeneratedMessage}" 💕💘 Generated with Namerly`;
      window.open(`https://wa.me/?text=${encodeURIComponent(text)}`, '_blank');
    }
    function shareOnTelegram() {
      const text = `Crush message: "${lastGeneratedMessage}" 💕💘 Generated with Namerly`;
      window.open(`https://t.me/share/url?text=${encodeURIComponent(text)}`, '_blank');
    }
    // Language toggle
    document.getElementById("lang-toggle").addEventListener("click", () => {
      currentLang = currentLang === "en" ? "es" : "en";
      localStorage.setItem('namerly-crush-lang', currentLang);
      updateUI();
      // Reset output
      document.getElementById("output").innerHTML = "🤷";
      // Hide share section when changing language
      document.getElementById("share-section").style.display = "none";
    });
    // Initialize UI
    updateUI();
  </script>

  <!-- 💖 ENHANCED CRUSH FUNCTIONALITY -->
  <script src="crush-enhanced-v2.js"></script>

  <!-- Cookie Consent Banner -->
  <div id="cookie-banner"
    style="display:none; position:fixed; bottom:0; left:0; width:100%; background:#fff; border-top:2px solid #e11d48; box-shadow:0 -2px 10px rgba(0,0,0,0.07); z-index:9999; padding:1.2rem 0; text-align:center; font-size:1rem;">
    <span style="color:#222;">Este sitio usa cookies <b>esenciales</b> para funcionar y cookies de <b>analítica</b> para
      mejorar la experiencia. ¿Aceptas las cookies de analítica?</span>
    <br>
    <button id="accept-analytics"
      style="margin:0.7rem 0.5rem; padding:0.5rem 1.2rem; background:#e11d48; color:#fff; border:none; border-radius:4px; font-weight:bold; cursor:pointer;">Aceptar
      analítica</button>
    <button id="reject-analytics"
      style="margin:0.7rem 0.5rem; padding:0.5rem 1.2rem; background:#ddd; color:#222; border:none; border-radius:4px; font-weight:bold; cursor:pointer;">Rechazar
      analítica</button>
    <button onclick="openCookieSettings()"
      style="margin-left:1.2rem; color:#e11d48; text-decoration:underline; font-size:0.95rem; background:none; border:none; cursor:pointer;">Configurar
      cookies</button>
    <a href="/cookie-policy.html"
      style="margin-left:1.2rem; color:#e11d48; text-decoration:underline; font-size:0.95rem;">Política de cookies</a>
  </div>

  <div id="cookie-settings-modal" class="cookie-settings-modal" style="display:none;">
    <div class="cookie-settings-content">
      <h2>Configuración de cookies</h2>
      <div class="cookie-category">
        <h3>🍪 Esenciales</h3>
        <p>Estas cookies son necesarias para el funcionamiento básico del sitio y no se pueden desactivar.</p>
      </div>
      <div class="cookie-category">
        <h3>📊 Analítica</h3>
        <p>Permiten medir el uso del sitio y mejorar la experiencia. Puedes aceptar o rechazar estas cookies.</p>
        <div>
          <label>
            <input type="checkbox" id="analytics-consent-checkbox" />
            Permitir cookies de analítica
          </label>
        </div>
      </div>
      <div class="cookie-settings-buttons">
        <button onclick="saveCookieSettings()">Guardar</button>
        <button onclick="closeCookieSettings()">Cerrar</button>
      </div>
    </div>
  </div>

  <script>
    function setCookie(name, value, days) {
      let expires = "";
      if (days) {
        const date = new Date();
        date.setTime(date.getTime() + (days * 24 * 60 * 60 * 1000));
        expires = "; expires=" + date.toUTCString();
      }
      document.cookie = name + "=" + (value || "") + expires + "; path=/";
    }
    function getCookie(name) {
      const nameEQ = name + "=";
      const ca = document.cookie.split(';');
      for (let i = 0; i < ca.length; i++) {
        let c = ca[i];
        while (c.charAt(0) == ' ') c = c.substring(1, c.length);
        if (c.indexOf(nameEQ) == 0) return c.substring(nameEQ.length, c.length);
      }
      return null;
    }
    function showCookieBanner() {
      document.getElementById('cookie-banner').style.display = 'block';
    }
    function hideCookieBanner() {
      document.getElementById('cookie-banner').style.display = 'none';
    }
    function openCookieSettings() {
      document.getElementById('cookie-settings-modal').style.display = 'flex';
      document.getElementById('analytics-consent-checkbox').checked = getCookie('namerly_analytics_consent') === 'accepted';
    }
    function closeCookieSettings() {
      document.getElementById('cookie-settings-modal').style.display = 'none';
    }
    function saveCookieSettings() {
      const consent = document.getElementById('analytics-consent-checkbox').checked ? 'accepted' : 'rejected';
      setCookie('namerly_analytics_consent', consent, 365);
      closeCookieSettings();
      window.location.reload();
    }
    document.getElementById('accept-analytics').onclick = function () {
      setCookie('namerly_analytics_consent', 'accepted', 365);
      hideCookieBanner();
      window.location.reload();
    };
    document.getElementById('reject-analytics').onclick = function () {
      setCookie('namerly_analytics_consent', 'rejected', 365);
      hideCookieBanner();
      window.location.reload();
    };
    window.addEventListener('DOMContentLoaded', function () {
      var consent = getCookie('namerly_analytics_consent');
      if (!consent) showCookieBanner();
      else hideCookieBanner();
      if (consent === 'accepted') loadAnalytics();
    });
    function loadAnalytics() {
      if (window.gtagLoaded) return;
      window.gtagLoaded = true;
      var script = document.createElement('script');
      script.async = true;
      script.src = 'https://www.googletagmanager.com/gtag/js?id=G-ZCBGMRHJ21';
      document.head.appendChild(script);
      script.onload = function () {
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        window.gtag = gtag;
        gtag('js', new Date());
        gtag('config', 'G-ZCBGMRHJ21', {
          cookie_domain: 'namerlygenerator.netlify.app',
          anonymize_ip: true
        });
      };
    }
  </script>

  <!-- AdSense Configuration -->
  <script src="../assets/js/adsense-config.js"></script>
<script type="module" src="../../assets/js/premium-features.js"></script>
</body>

</html>
